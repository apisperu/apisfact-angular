<div class="page-header">
  <h3 class="page-title">Nueva Emisión</h3>
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="facturacion">Facturación</a></li>
      <li class="breadcrumb-item active" aria-current="page">Nueva emisión</li>
    </ol>
  </nav>
</div>
<div class="row">
  <div class="col-lg-12 grid-margin stretch-card">
    <div class="card">
      <div class="card-body">
        <form [formGroup]="ticketForm">
          <div class="form-group">
            <label>Tipo Documento</label>
            <select class="form-control" formControlName="tipoDoc">
              <option [ngValue]="null">
                Seleccione una opción
              </option>
              <option [ngValue]="03">BOLETA</option>
              <option [ngValue]="01">FACTURA</option>
            </select>
          </div>
          <div class="form-group">
            <label>Serie</label>
            <input type="text" class="form-control" formControlName="serie" />
          </div>
          <div class="form-group">
            <label>Correlativo</label>
            <input
              type="text"
              class="form-control"
              formControlName="correlativo"
            />
          </div>
          <div class="form-group">
            <label>Moneda</label>
            <input
              type="text"
              class="form-control"
              formControlName="tipoMoneda"
            />
          </div>
          <div class="form-group">
            <label>Cliente</label>
            <select class="form-control" formControlName="client">
              <option [ngValue]="null">
                Seleccione una opción
              </option>
              <option *ngFor="let item of clientList" [ngValue]="item">{{
                item.rznSocial
              }}</option>
            </select>
          </div>
          <hr />
        </form>
        <div class="row" [formGroup]="addProductForm">
          <div class="col-12"><h5>Detalle</h5></div>
          <div class="col-4">
            <div class="form-group">
              <label>Producto</label>
              <select class="form-control" formControlName="product">
                <option [ngValue]="null">
                  Seleccione una opción
                </option>
                <option *ngFor="let item of productList" [ngValue]="item">{{
                  item.descripcion
                }}</option>
              </select>
            </div>
          </div>
          <div class="col-4">
            <div class="form-group">
              <label>Cantidad</label>
              <input type="text" class="form-control" formControlName="cant" />
            </div>
          </div>
          <div class="col-4">
            <div class="form-group">
              <label class="d-block">&nbsp;</label>
              <button class="btn btn-secondary" (click)="addProduct()">
                Añadir
              </button>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>Código</th>
                  <th>Descripción</th>
                  <th>Cantidad</th>
                  <th>Precio</th>
                  <th>Sub Total</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of productAddedList">
                  <td>{{ item.codProducto }}</td>
                  <td>{{ item.descripcion }}</td>
                  <td>{{ item.cantidad }}</td>
                  <td>{{ item.mtoValorUnitario }}</td>
                  <td>{{ item.cantidad * item.mtoValorUnitario }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <button
          type="button"
          class="btn btn-gradient-primary mr-2 mt-4"
          (click)="onSaveButtonTapped()"
        >
          Enviar
        </button>
      </div>
    </div>
  </div>
</div>
<template #successModalContainer></template>
